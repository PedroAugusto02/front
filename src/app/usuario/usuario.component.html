<div class="d-flex">
  <div class="container-usuarios shadow p-4">
    <h2>Adicionar Novo Usuário</h2>
    <div class="ativo-adicionar">
      <div>
        <inputtext class="estilomeu" [label]="'Nome'" [placeholder]="'ex: Pedro'" [value]="usuarioNovo.name"
          (valueChange)="usuarioNovo.name = $event"></inputtext>
      </div>
      <div>
        <inputtext [label]="'Idade'" [value]="usuarioNovo.age" (valueChange)="usuarioNovo.age = $event"></inputtext>
      </div>
    </div>

    <div>
      <inputtext [label]="'Email'" [value]="usuarioNovo.email" (valueChange)="usuarioNovo.email = $event"></inputtext>
    </div>

    <div class="ativo-adicionar">
      <checkbox [label]="'Ativo'"></checkbox>
      <app-button [label]="'Adicionar'" [color]="'primary'" (buttonClick)="adicionarUsuario()"></app-button>
    </div>
  </div>

  <div class="container-update shadow p-4">
    <div>
      <inputtext class="estilomeu" [label]="'Nome'" [placeholder]="'ex: Pedro'" [value]="usuarioUpdate.name"
        (valueChange)="usuarioUpdate.name = $event"></inputtext>
    </div>
    <div>
      <inputtext [label]="'Idade'" [value]="usuarioUpdate.age" (valueChange)="usuarioUpdate.age = $event"></inputtext>
    </div>
    <div>
      <inputtext [label]="'Email'" [value]="usuarioUpdate.email" (valueChange)="usuarioUpdate.email = $event"></inputtext>
    </div>

    <div cdkDropList #edicao="cdkDropList" [cdkDropListData]="usuarios_update" [cdkDropListConnectedTo]="[usuarios]"
      class="example-list" (cdkDropListDropped)="dropUpdate($event,usuarios_update)">
      @for (usuario of usuarios_update; track usuario) {
      <div class="example-box" cdkDrag>{{usuario.name}}</div>
      }
    </div>
  </div>


</div>

<div class="container-tabela shadow p-4">
  <div cdkDropList #usuarios="cdkDropList" [cdkDropListData]="usuarios_lista" [cdkDropListConnectedTo]="[edicao]"
    class="example-list" (cdkDropListDropped)="drop($event)">
    @for (usuario of usuarios_lista; track usuario) {
    <div class="example-box" cdkDrag>
      <div>{{ usuario.name }}</div>
      <div>{{ usuario.email }}</div>
      <div>{{ usuario.age }}</div>
      <div>{{ usuario.active ? 'Sim' : 'Não' }}</div>
      <div>
        <app-button [label]="'Excluir'" [color]="'warn'"
          (buttonClick)="deletarUsuario(usuario.id == null ? 0 : usuario.id)"></app-button>
      </div>
    </div>
    }
  </div>
</div>
